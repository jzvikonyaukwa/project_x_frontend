<div class="flex flex-col flex-auto min-w-0" *ngIf="user$ | async as user">
  <div class="bg-axe-dark-blue">
    <div class="flex flex-col w-full px-6 sm:px-8">
      <div class="flex flex-col sm:flex-row flex-auto sm:items-center min-w-0 my-8 sm:my-12">
        <div class="flex flex-auto items-center min-w-0">
          <div class="flex-0 w-16 h-16 rounded-full overflow-hidden">
            <mat-icon
              class="icon-size-16 text-axe-light-blue"
              [svgIcon]="'feather:aperture'"
            ></mat-icon>
          </div>
          <div class="flex flex-col min-w-0 ml-4">
            <ng-container>
              <div
                class="text-2xl md:text-5xl font-semibold tracking-tight leading-7 md:leading-snug truncate text-white"
              >
                Welcome-back ***, {{ user.name }}! ***
              </div>
            </ng-container>
            <div class="flex items-center">
              <mat-icon
                class="icon-size-5 text-axe-light-blue"
                [svgIcon]="'heroicons_solid:clock'"
              ></mat-icon>
              <div class="ml-1.5 leading-6 truncate text-axe-light-blue">
                {{ today | date : 'EEE dd MMM yyyy' }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="border-t -mt-px pt-4 sm:p-6 bg-white">
    <div class="flex flex-wrap items-center gap-6 px-4 sm:flex-nowrap sm:px-6 lg:px-8">
      <h1 class="text-base font-semibold leading-7 text-gray-900">Pick a Time Frame</h1>
      <div
        class="order-last flex w-full gap-x-8 text-sm font-semibold leading-6 sm:order-none sm:w-auto sm:border-l sm:border-gray-200 sm:pl-6 sm:leading-7"
      >
        <button
          (click)="selectTimeRange('week')"
          [ngClass]="{
            'text-indigo-600': selectedRange === 'week',
            'text-gray-700': selectedRange !== 'week',
            selected: selectedRange === 'week'
          }"
        >
          Current Week
        </button>
        <button
          (click)="selectTimeRange('month')"
          [ngClass]="{
            'text-indigo-600': selectedRange === 'month',
            'text-gray-700': selectedRange !== 'month',
            selected: selectedRange === 'month'
          }"
        >
          Current Month
        </button>
        <button
          (click)="selectTimeRange('year')"
          [ngClass]="{
            'text-indigo-600': selectedRange === 'year',
            'text-gray-700': selectedRange !== 'year',
            selected: selectedRange === 'year'
          }"
        >
          Current Year
        </button>
      </div>
    </div>

    <div class="m-10">
      <app-quotes-summary-overview
        [startDate]="formattedStartDate"
        [endDate]="formattedEndDate"
      ></app-quotes-summary-overview>
      <app-grvs-summary-overview
        [startDate]="formattedStartDate"
        [endDate]="formattedEndDate"
      ></app-grvs-summary-overview>
    </div>
  </div>
</div>
